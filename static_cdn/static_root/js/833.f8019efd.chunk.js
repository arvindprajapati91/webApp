"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[833],{77157:(e,t,s)=>{s.r(t),s.d(t,{default:()=>N});var a=s(65043),i=s(22166),l=s(73216),n=s(7264),o=s(5328),r=s(99422),d=s(76309),c=s(7135),h=s(42406),p=s(9067),m=s(33077),g=s(83910),u=s(97929),_=s(8900),b=s(13870),x=s(32557),f=s(18606),v=s(70579);const j="/".concat("common-app","/").concat("userMaster"),y="User Master",S="Master";class A extends a.Component{constructor(e){super(e),this.drpHandleChange=e=>{this.setState({[e.target.name]:e.target.value})},this.dropDownChange=(e,t,s)=>{this.setState({[t]:this.state[t]=s})},this.checkBoxChange=e=>{if(!1===e.target.checked){var t=this.state[e.target.name],s=parseInt(e.target.value,10),a=t.filter((function(e){return e!==s}));console.log(a),this.setState({[e.target.name]:a})}!0===e.target.checked&&this.setState({[e.target.name]:[...this.state[e.target.name],e.target.value]})},this.randomPassword=()=>{fetch("".concat(j,"/pwdgn")).then((e=>{"Internal Server Error"===e.statusText&&alert("Something went wrong, please contact to administrator!"),e.json().then((e=>{this.setState({random_password:e.password,loading:!1})}))})),this.setState({loading:!1})},this.getDetails=async()=>{if(""===this.props.navOrgName&&!1===this.props.adminAccess)return alert("Please change organisation to view details");this.setState({loading:!0});const e=window.location.pathname;await f.A.call(this,e,y),""!==this.state.details&&(this.setState({obj_id:this.state.details.id,slug_id:this.state.details.slug,username:this.state.details.username,full_name:this.state.details.full_name,email:this.state.details.email,employee_code:this.state.details.employee_code,managerSelected:this.state.details.reporting_manager,role_access_list:this.state.role_access_list=this.state.details.role_access,role_ids:this.state.details.role_access,status:!0===this.state.details.status?"1":"0",is_lock:!0===this.state.details.is_lock?"1":"0",orgSelected:null===this.state.details.organisation?"":this.state.details.organisation.org_desc,org_access_list:this.state.org_access_list=this.state.details.org_access,org_ids:this.state.details.org_access,blSelected:null===this.state.details.business_line?"":this.state.details.business_line.bl_desc,bl_access_list:this.state.details.bl_access,bl_ids:this.state.details.bl_access,locSelected:null===this.state.details.location?"":this.state.details.location.loc_desc,loc_access_list:this.state.loc_access_list=this.state.details.loc_access,loc_ids:this.state.details.loc_access,depSelected:null===this.state.details.department?"":this.state.details.department.dep_desc,dep_access_list:this.state.dep_access_list=this.state.details.dep_access,dep_ids:this.state.details.dep_access}),this.setState((e=>({bl_ids:null===this.state.details.business_line?"":e.bl_ids.concat([this.state.details.business_line.id]),org_ids:null===this.state.details.organisation?"":e.org_ids.concat([this.state.details.organisation.id]),loc_ids:null===this.state.details.location?"":e.loc_ids.concat([this.state.details.location.id]),dep_ids:null===this.state.details.department?"":e.dep_ids.concat([this.state.details.department.id])})))),this.masterLists()},this.handleSubmit=async e=>{if(e.preventDefault(),""===this.state.managerSelected||null===this.state.managerSelected){let e="Please select Manager before Save";return b.A.call(this,e,"rpt_manager")}if(""===this.state.orgSelected||null===this.state.orgSelected){let e="Please select Organisation before Save";return b.A.call(this,e,"organisation")}if(""===this.state.blSelected||null===this.state.blSelected){let e="Please select Business Line before Save";return b.A.call(this,e,"business_line")}if(""===this.state.depSelected||null===this.state.depSelected){let e="Please select Department before Save";return b.A.call(this,e,"department")}if(""===this.state.locSelected||null===this.state.locSelected){let e="Please select Location before Save";return b.A.call(this,e,"location")}var t="".concat(j,"/CreateUpdateAPI/");x.A.call(this,e,t)},this.state={details:"",obj_id:"",username:"",email:"",full_name:"",status:"1",employee_code:"",rpt_manager:"",managerList:[],manager:"",managerSelected:"",is_lock:"0",role_list:[],role_ids:"",role_access_list:[],err_msg_visible:!1,error_message:"",loading:!0,random_password:"",org_list:[],orgSelected:"",org_ids:"",org_access_list:[],bl_list:[],blSelected:"",bl_ids:"",bl_access_list:[],dep_list:[],depSelected:"",dep_ids:"",dep_access_list:[],loc_list:[],locSelected:"",loc_ids:"",loc_access_list:[],navTab_List:[],slug_id:"",adminAccess:"",navOrgName:""}}async masterLists(){let e="";this.setState({adminAccess:this.state.adminAccess=this.props.adminAccess,navOrgName:this.state.navOrgName=this.props.navOrgName}),e=!1===this.state.adminAccess?"org=".concat(this.state.navOrgName,"&"):"",await Promise.all([await fetch("/".concat("common-app","/userMaster/ListAPI/?").concat(e,"drpList=Y&page_size=").concat("100000000")).then((e=>e.json().then((e=>{e.results.length>0&&(e.results.map((e=>this.setState((t=>({managerList:[...t.managerList,{key:e.username,value:e.full_name,text:e.full_name}]}))))),setTimeout((()=>{console.log("Wait")}),4e3))})))),await fetch("/".concat("common-app","/roleMaster/ListAPI/?").concat(e,"drpList=Y&order_field=role_code&order_by=asc&page_size=").concat("100000000")).then((e=>e.json().then((e=>{if(e.results.length>0){const t=[];e.results.map((e=>t.push({key:e.role_code,value:e.role_desc,id:e.id}))),this.setState((e=>({role_list:this.state.role_list=t}))),setTimeout((()=>{console.log("Wait")}),4e3),this.props.onChange("navTab",{order:1,tab_name:"Role Access",id:"role_list",list_name:"Role List",type:"active",data_list:this.state.role_list,access_list:this.state.role_access_list,tab_type:"role"})}})))),await fetch("/".concat("common-app","/organisation/ListAPI/?drpList=Y&page_size=").concat("100000000")).then((e=>e.json().then((e=>{if(e.results.length>0){const t=[];e.results.map((e=>t.push({key:e.org_code,value:e.org_desc,id:e.id,text:e.org_desc}))),this.setState((e=>({org_list:this.state.org_list=t}))),this.props.onChange("navTab",{order:2,tab_name:"Organisation Access",id:"org_list",list_name:"Organisation List",type:"",data_list:this.state.org_list,access_list:this.state.org_ids,tab_type:"org"}),setTimeout((()=>{console.log("Wait")}),4e3)}})))),await fetch("/".concat("common-app","/businessLine/ListAPI/?").concat(e,"drpList=Y&order_field=bl_code&order_by=asc&page_size=").concat("100000000")).then((e=>e.json().then((e=>{if(e.results.length>0){const t=[];e.results.map((e=>t.push({key:e.bl_code,value:e.bl_desc,id:e.id,text:e.bl_desc}))),this.setState((e=>({bl_list:this.state.bl_list=t}))),this.props.onChange("navTab",{order:3,tab_name:"Business Line Access",id:"bl_list",list_name:"Business Line List",type:"",data_list:this.state.bl_list,access_list:this.state.bl_ids,tab_type:"bl"}),setTimeout((()=>{console.log("Wait")}),4e3)}})))),await fetch("/".concat("common-app","/departmentMaster/ListAPI/?").concat(e,"drpList=Y&page_size=").concat("100000000")).then((e=>e.json().then((e=>{if(e.results.length>0){const t=[];e.results.map((e=>t.push({key:e.dep_code,value:e.dep_desc,id:e.id,text:e.dep_desc}))),this.setState((e=>({dep_list:this.state.dep_list=t}))),this.props.onChange("navTab",{order:4,tab_name:"Department Access",id:"dep_list",list_name:"Department List",type:"",data_list:this.state.dep_list,access_list:this.state.dep_ids,tab_type:"dep"}),setTimeout((()=>{console.log("Wait")}),4e3)}})))),await fetch("/".concat("common-app","/locationMaster/ListAPI/?").concat(e,"drpList=Y&page_size=").concat("100000000")).then((e=>e.json().then((e=>{if(e.results.length>0){const t=[];e.results.map((e=>t.push({key:e.loc_code,value:e.loc_desc,id:e.id,text:e.loc_desc}))),this.setState((e=>({loc_list:this.state.loc_list=t}))),this.props.onChange("navTab",{order:5,tab_name:"Location Access",id:"loc_list",list_name:"Location List",type:"",data_list:this.state.loc_list,access_list:this.state.loc_ids,tab_type:"loc"}),this.setState({loading:!1}),setTimeout((()=>{console.log("Wait")}),4e3)}}))))])}async componentDidMount(){this.getDetails(),this.setState({loading:!1})}async componentWillUnmount(){this.props.onChange("navTabUpdate",{})}render(){const{error_message:e,redirect:t}=this.state;return t?(0,v.jsx)(l.C5,{to:j}):(0,v.jsx)("div",{className:"wrapper",children:(0,v.jsx)("div",{className:"content-wrapper",onClick:d.A.bind(this),children:(0,v.jsxs)("form",{id:"app-form",onSubmit:this.handleSubmit,autoComplete:"off",children:[(0,v.jsx)(r.A,{form_name_list:y,form_name:y,form_type:S,list_page:j,slug_id:this.state.slug_id,trailFor:this.state.full_name}),(0,v.jsx)(h.A,{load:this.state.loading}),(0,v.jsx)(_.A,{error_message:e,err_msg_visible:this.state.err_msg_visible}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-3 did-floating-label-content",children:[(0,v.jsx)("input",{className:"did-floating-input",type:"text",placeholder:" ",name:"username",id:"username",required:!0,value:this.state.username,onChange:c.A.bind(this),onClick:c.A.bind(this)}),(0,v.jsx)("label",{className:"did-floating-label",children:"User Name"}),(0,v.jsx)("div",{className:"form-helper helper_hide",id:"username_helper",children:"Required"})]}),(0,v.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-3 did-floating-label-content",children:[(0,v.jsx)("input",{className:"did-floating-input",type:"text",placeholder:" ",name:"full_name",id:"full_name",required:!0,value:this.state.full_name,onChange:c.A.bind(this),onClick:c.A.bind(this)}),(0,v.jsx)("label",{className:"did-floating-label",children:"Full Name"}),(0,v.jsx)("div",{className:"form-helper helper_hide",id:"full_name_helper",children:"Required"})]}),(0,v.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-3 did-floating-label-content",children:[(0,v.jsx)("input",{className:"did-floating-input",type:"email",placeholder:" ",name:"email",id:"email",required:!0,value:this.state.email,onChange:c.A.bind(this),onClick:c.A.bind(this)}),(0,v.jsx)("label",{className:"did-floating-label",children:"Email"}),(0,v.jsx)("div",{className:"form-helper helper_hide",id:"email_helper",children:"Required"})]}),(0,v.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-3 did-floating-label-content",children:[(0,v.jsx)("input",{className:"did-floating-input",type:"text",placeholder:" ",name:"employee_code",id:"employee_code",required:!0,value:this.state.employee_code,onChange:c.A.bind(this),onClick:c.A.bind(this)}),(0,v.jsx)("label",{className:"did-floating-label",children:"Employee Code"}),(0,v.jsx)("div",{className:"form-helper helper_hide",id:"employee_code_helper",children:"Required"})]}),(0,v.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-3 did-floating-label-content",children:[(0,v.jsx)(m.A,{className:"did-floating-input",name:"rpt_manager",id:"rpt_manager",value:this.state.managerSelected,clearable:!0,placeholder:this.state.managerList.length>0?"Select Manager":"Loading...",fluid:!0,search:!0,required:!0,selection:!0,options:this.state.managerList,loading:!(this.state.managerList.length>0),disabled:!(this.state.managerList.length>0),onChange:(e,t)=>{this.dropDownChange(e,"managerSelected",t.value)}}),(0,v.jsx)("label",{className:"did-floating-label",children:"Reporting Manager"}),(0,v.jsx)("div",{className:"form-helper helper_hide",id:"rpt_manager_helper",children:"Required"})]}),(0,v.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-3 did-floating-label-content",children:[(0,v.jsxs)("select",{className:"did-floating-select",name:"is_lock",id:"is_lock",value:this.state.is_lock,onChange:this.drpHandleChange,children:[(0,v.jsx)("option",{value:"1",children:"Yes"}),(0,v.jsx)("option",{value:"0",children:"No"})]}),(0,v.jsx)(g.g,{icon:u.xBV,className:"sync_icon"}),(0,v.jsx)("label",{className:"did-floating-label",children:"Is_Lock"})]}),(0,v.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-3 did-floating-label-content",children:[(0,v.jsx)("input",{type:"text",name:"random_password",id:"random_password",className:"did-floating-input",autocomplete:"off",placeholder:"Password",value:this.state.random_password,onChange:c.A.bind(this),onClick:c.A.bind(this),required:""===this.state.obj_id?"required":""}),(0,v.jsx)(g.g,{icon:u.$3Z,className:"sync_icon",onClick:this.randomPassword,"data-tip":!0,"data-for":"password_tip"}),(0,v.jsx)("label",{className:"did-floating-label",children:"Set Password"}),""===this.state.obj_id?(0,v.jsx)("div",{className:"form-helper helper_hide",id:"random_password_helper",children:"Required"}):""]}),(0,v.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-3 did-floating-label-content",children:[(0,v.jsxs)("select",{className:"did-floating-select",name:"status",id:"status",value:this.state.status,onChange:this.drpHandleChange,children:[(0,v.jsx)("option",{value:"1",children:"Active"}),(0,v.jsx)("option",{value:"0",children:"InActive"})]}),(0,v.jsx)("label",{className:"did-floating-label",children:"Status"})]}),(0,v.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-3 did-floating-label-content",children:[(0,v.jsx)(m.A,{className:"did-floating-input",name:"organisation",id:"organisation",value:this.state.orgSelected,clearable:!0,placeholder:this.state.org_list.length>0?"Select Organisation":"Loading...",fluid:!0,search:!0,required:!0,selection:!0,options:this.state.org_list,loading:!(this.state.org_list.length>0),disabled:!(this.state.org_list.length>0),onChange:(e,t)=>{this.dropDownChange(e,"orgSelected",t.value)}}),(0,v.jsx)("label",{className:"did-floating-label",children:"Organisation"}),(0,v.jsx)("div",{className:"form-helper helper_hide",id:"organisation_helper",children:"Required"})]}),(0,v.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-3 did-floating-label-content",children:[(0,v.jsx)(m.A,{className:"did-floating-input",name:"business_line",id:"business_line",value:this.state.blSelected,clearable:!0,placeholder:this.state.bl_list.length>0?"Select Business Line":"Loading...",fluid:!0,search:!0,required:!0,selection:!0,options:this.state.bl_list,loading:!(this.state.bl_list.length>0),disabled:!(this.state.bl_list.length>0),onChange:(e,t)=>{this.dropDownChange(e,"blSelected",t.value)}}),(0,v.jsx)("label",{className:"did-floating-label",children:"Business Line"}),(0,v.jsx)("div",{className:"form-helper helper_hide",id:"business_line_helper",children:"Required"})]}),(0,v.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-3 did-floating-label-content",children:[(0,v.jsx)(m.A,{className:"did-floating-input",name:"department",id:"department",value:this.state.depSelected,clearable:!0,placeholder:this.state.dep_list.length>0?"Select Business Line":"Loading...",fluid:!0,search:!0,required:!0,selection:!0,options:this.state.dep_list,loading:!(this.state.dep_list.length>0),disabled:!(this.state.dep_list.length>0),onChange:(e,t)=>{this.dropDownChange(e,"depSelected",t.value)}}),(0,v.jsx)("label",{className:"did-floating-label",children:"Department"}),(0,v.jsx)("div",{className:"form-helper helper_hide",id:"department_helper",children:"Required"})]}),(0,v.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-3 did-floating-label-content",children:[(0,v.jsx)(m.A,{className:"did-floating-input",name:"location",id:"location",value:this.state.locSelected,clearable:!0,placeholder:this.state.loc_list.length>0?"Select Business Line":"Loading...",fluid:!0,search:!0,required:!0,selection:!0,options:this.state.loc_list,loading:!(this.state.loc_list.length>0),disabled:!(this.state.loc_list.length>0),onChange:(e,t)=>{this.dropDownChange(e,"locSelected",t.value)}}),(0,v.jsx)("label",{className:"did-floating-label",children:"Location"}),(0,v.jsx)("div",{className:"form-helper helper_hide",id:"location_helper",children:"Required"})]})]}),(0,v.jsxs)("div",{className:"row",style:{borderTop:"none"},children:[(0,v.jsx)(n.A,{defaultActiveKey:"Role Access",id:"uncontrolled-tab-example",className:"mb-3",children:this.props.navTab_List.length>0?this.props.navTab_List.map((e=>(0,v.jsx)(o.A,{eventKey:e.tab_name,title:e.tab_name,children:(0,v.jsxs)("div",{className:"card",style:{width:"30rem"},children:[(0,v.jsx)("div",{className:"card-header",children:e.list_name}),(0,v.jsx)("ul",{className:"list-group list-group-flush",children:this.props.navTab_List.map((t=>e.list_name===t.list_name?t.data_list.map((e=>(0,v.jsxs)("li",{className:"list-group-item",children:[(0,v.jsx)("input",{type:"checkbox",name:"".concat(t.tab_type,"_ids"),id:e.key+"_"+e.id,value:e.id,className:"".concat(t.tab_type,'"_"').concat(e.id),onChange:this.checkBoxChange,defaultChecked:!!t.access_list.includes(e.id),disabled:"ORGADMIN"===this.state.role_code}),(0,v.jsx)("label",{for:e.key+"_"+e.id,children:e.key+" - "+e.value})]}))):""))})]})}))):""}),(0,v.jsx)(p.A,{form_type:S,list_page:j})]})]})})})}}const N=(0,i.Ng)((e=>({navTab_List:e.navTab_List,adminAccess:e.adminAccess,navOrgName:e.navOrgName})),(e=>({onChange:(t,s)=>e({type:t,payload:s})})))(A)},7135:(e,t,s)=>{s.d(t,{A:()=>a});const a=function(e){const t=document.getElementById(e.target.name+"_helper");null!==t&&(""===e.target.value?t.classList.contains("helper_hide")&&t.classList.remove("helper_hide"):t.classList.add("helper_hide"),setTimeout((()=>{t.classList.add("helper_hide")}),"10000")),document.getElementById(e.target.id).style.border="1px solid grey",this.setState({[e.target.name]:"",[e.target.name]:e.target.value})}},99422:(e,t,s)=>{s.d(t,{A:()=>u});var a=s(65043),i=s(40359),l=s(10615),n=s(35475),o=s(16023),r=s(50326),d=s(96209),c=s(25663),h=s(86178),p=s.n(h),m=s(70579);class g extends a.Component{constructor(e){super(e),this.sendFormRequest=e=>{this.props.parentCallback(e.target.id)},this.showAuditTrailUserMaster=async e=>{console.log(this.props.slug_id),this.setState({open:!0}),await fetch("/".concat("common-app","/userMaster/userMasterAuditTrailAPI/?slug=").concat(this.props.slug_id,"&page_size=").concat("100000000")).then((e=>{if("Internal Server Error"===e.statusText){var t=window.location.origin;window.location.replace(t)}e.json().then((e=>{this.setState({auditTrail:e.results})}))}))},this.showAuditTrail=async e=>{console.log(this.props.slug_id),this.setState({open:!0}),await fetch("/".concat("common-app","/auditTrail/auditTrailViewAPI/?record_no=").concat(this.props.recordNo,"&table_name=").concat(this.props.tableName,"&page_size=").concat("100000000")).then((e=>{if(!e.ok){var t=window.location.origin;window.location.replace(t)}e.json().then((e=>{this.setState({auditTrail:e.results})}))}))},this.state={importDisplay:this.props.importDisplay,open:!1,auditTrail:[]}}render(){const e=[{dataField:this.props.list_page.includes("userMaster")?"user_name":"record_no",text:this.props.list_page.includes("userMaster")?"User Name":"Record No"},{dataField:"process_desc",text:"Process"},{dataField:"action_desc",text:"Action"},{dataField:"action_by",text:"Action By"},{dataField:"action_date",text:"Action Date",formatter:e=>p()(e).format("DD-MMM-YYYY HH:MM:SS A")},{dataField:"changes",text:"Changes"}];return(0,m.jsxs)("div",{className:"row form-name-row",style:{marginTop:"3px"},children:[(0,m.jsx)("div",{className:"col-lg-2 col-md-2 col-sm-2",style:{margin:"0px",paddingTop:"3px"},children:(0,m.jsx)("span",{style:{color:"brown",fontSize:"15px"},children:this.props.form_name})}),(0,m.jsx)("div",{className:"col-lg-7 col-md-7 col-sm-7",style:{margin:"0",display:"flex"},children:(0,m.jsx)(i.A,{placement:"bottom",overlay:(0,m.jsx)(l.A,{id:"tooltip-disabled",children:"Please use this option to import data from Excel File"}),children:(0,m.jsxs)("div",{className:"input-group input-group-sm",style:{display:!0===this.state.importDisplay?"flex":"none"},children:[(0,m.jsx)("input",{className:"form-control",style:{width:"50%"},type:"file",id:"formFile",onChange:this.props.fileSelection}),(0,m.jsx)("span",{className:"btn btn-danger",style:{textDecoration:"none",color:"white"},onClick:this.props.import_data,children:"Import"})]})})}),(0,m.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-3",style:{margin:"0px",paddingTop:"3px"},children:[(0,m.jsxs)(n.N_,{to:window.location.pathname.includes("pending")?"".concat(this.props.list_page,"/pendingApproval"):this.props.list_page,className:"back_to_list",style:{fontWeight:"500",color:"black",textDecoration:"none",cursor:"pointer",float:"right"},children:[(0,m.jsx)("svg",{style:{color:"brown",marginRight:"5px"},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-arrow-left-circle-fill",viewBox:"0 0 16 16",children:(0,m.jsx)("path",{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"})}),(0,m.jsx)("span",{style:{color:"black"},children:"Back to List"})]}),this.props.list_page.includes("userMaster")&&""!==this.props.slug_id?(0,m.jsxs)("div",{className:"audit_trail",id:"audit_trail",style:{fontWeight:"500",color:"black",textDecoration:"none",cursor:"pointer",float:"right",paddingLeft:"10px",paddingRight:"10px"},onClick:this.showAuditTrailUserMaster,children:[(0,m.jsxs)("svg",{height:"18px",version:"1.1",viewBox:"0 0 20 21",width:"20px",children:[(0,m.jsx)("title",{}),(0,m.jsx)("desc",{}),(0,m.jsx)("defs",{}),(0,m.jsx)("g",{fill:"none","fill-rule":"evenodd",id:"Page-1",stroke:"none","stroke-width":"1",children:(0,m.jsx)("g",{fill:"#004a5d",id:"Core",opacity:"0.9",transform:"translate(-464.000000, -254.000000)",children:(0,m.jsx)("g",{id:"history",transform:"translate(464.000000, 254.500000)",children:(0,m.jsx)("path",{d:"M10.5,0 C7,0 3.9,1.9 2.3,4.8 L0,2.5 L0,9 L6.5,9 L3.7,6.2 C5,3.7 7.5,2 10.5,2 C14.6,2 18,5.4 18,9.5 C18,13.6 14.6,17 10.5,17 C7.2,17 4.5,14.9 3.4,12 L1.3,12 C2.4,16 6.1,19 10.5,19 C15.8,19 20,14.7 20,9.5 C20,4.3 15.7,0 10.5,0 L10.5,0 Z M9,5 L9,10.1 L13.7,12.9 L14.5,11.6 L10.5,9.2 L10.5,5 L9,5 L9,5 Z",id:"Shape"})})})})]}),(0,m.jsx)("span",{style:{color:"black",paddingLeft:"3px"},children:"Audit Trail"})]}):"","Yes"===this.props.auditTrailView?(0,m.jsxs)("div",{className:"audit_trail",id:"audit_trail",style:{fontWeight:"500",color:"black",textDecoration:"none",cursor:"pointer",float:"right",paddingLeft:"10px",paddingRight:"10px"},onClick:this.showAuditTrail,children:[(0,m.jsxs)("svg",{height:"18px",version:"1.1",viewBox:"0 0 20 21",width:"20px",children:[(0,m.jsx)("title",{}),(0,m.jsx)("desc",{}),(0,m.jsx)("defs",{}),(0,m.jsx)("g",{fill:"none","fill-rule":"evenodd",id:"Page-1",stroke:"none","stroke-width":"1",children:(0,m.jsx)("g",{fill:"#004a5d",id:"Core",opacity:"0.9",transform:"translate(-464.000000, -254.000000)",children:(0,m.jsx)("g",{id:"history",transform:"translate(464.000000, 254.500000)",children:(0,m.jsx)("path",{d:"M10.5,0 C7,0 3.9,1.9 2.3,4.8 L0,2.5 L0,9 L6.5,9 L3.7,6.2 C5,3.7 7.5,2 10.5,2 C14.6,2 18,5.4 18,9.5 C18,13.6 14.6,17 10.5,17 C7.2,17 4.5,14.9 3.4,12 L1.3,12 C2.4,16 6.1,19 10.5,19 C15.8,19 20,14.7 20,9.5 C20,4.3 15.7,0 10.5,0 L10.5,0 Z M9,5 L9,10.1 L13.7,12.9 L14.5,11.6 L10.5,9.2 L10.5,5 L9,5 L9,5 Z",id:"Shape"})})})})]}),(0,m.jsx)("span",{style:{color:"black",paddingLeft:"3px"},children:"Audit Trail"})]}):""]}),this.props.list_page.includes("userMaster")?(0,m.jsxs)(o.A,{centered:!0,open:this.state.open,onClose:()=>this.setState({open:!1}),onOpen:()=>this.setState({open:!0}),children:[(0,m.jsxs)(o.A.Header,{children:["Audit Trail of ",this.props.trailFor]}),(0,m.jsx)(o.A.Content,{children:(0,m.jsx)(d.A,{keyField:"user_name",data:this.state.auditTrail,columns:e,striped:!0,hover:!0,condensed:!0,pagination:(0,c.Ay)(),noDataIndication:"No records found"})}),(0,m.jsx)(o.A.Actions,{children:(0,m.jsx)(r.A,{onClick:()=>this.setState({open:!1}),children:"OK"})})]}):(0,m.jsxs)(o.A,{centered:!0,open:this.state.open,onClose:()=>this.setState({open:!1}),onOpen:()=>this.setState({open:!0}),children:[(0,m.jsxs)(o.A.Header,{children:["Audit Trail of ",this.props.recordNo]}),(0,m.jsx)(o.A.Content,{children:(0,m.jsx)(d.A,{keyField:"user_name",data:this.state.auditTrail,columns:e,striped:!0,hover:!0,condensed:!0,pagination:(0,c.Ay)(),noDataIndication:"No records found"})}),(0,m.jsx)(o.A.Actions,{children:(0,m.jsx)(r.A,{onClick:()=>this.setState({open:!1}),children:"OK"})})]})]})}}const u=g},86985:(e,t,s)=>{s.d(t,{A:()=>a});const a=function(e){if(e.includes("Unexpected")||e.includes("Failed to fetch")){this.setState({loading:this.state.loading=!1}),alert("Session is expired!");var t=window.location.origin;window.location.replace(t)}else this.setState({loading:this.state.loading=!1})}},8900:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(65043),i=s(70579);class l extends a.Component{render(){return(0,i.jsxs)("div",{id:"error_alert",className:"alert alert-warning alert-dismissible ".concat(this.props.err_msg_visible?"alert-shown":"alert-hidden"),role:"alert",style:{display:this.props.err_msg_visible?"block":"none"},children:[(0,i.jsx)("strong",{children:"Error :"})," ",this.props.error_message]})}}const n=l},13870:(e,t,s)=>{s.d(t,{A:()=>a});const a=function(e,t){this.setState({err_msg_visible:!1}),this.setState({err_msg_visible:!0,error_message:e,loading:!1}),setTimeout((()=>{this.setState({err_msg_visible:!1})}),"10000"),document.getElementById(t).style.border="1px solid red"}},18606:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(86985);const i=async function(e,t){if(e.includes("=")||e.includes("%"))try{await fetch(e).then((async e=>e.json())).then((e=>{this.setState({details:e})}))}catch(s){let e=s.message;a.A.call(this,e)}else document.title="".concat(t," Create"),this.setState({loading:!1})}},32557:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(8858),i=s(86985);const l=async function(e,t){this.setState({loading:!0});const s={method:"POST",headers:(0,a.A)(),body:JSON.stringify(this.state)};try{await fetch(t,s).then((async e=>e.json())).then((e=>{e.status?"Data saved successfully"===e.status?(this.setState({success_message:!0,err_msg_visible:!1,loading:!1}),setTimeout((()=>{this.setState({success_message:!1})}),"10000")):this.setState({redirect:!0}):e.error_msg&&(this.setState({err_msg_visible:!0,error_message:e.error_msg,loading:!1}),setTimeout((()=>{this.setState({err_msg_visible:!1})}),"10000"))}))}catch(l){let e=l.message;i.A.call(this,e)}}},9067:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(65043),i=s(35475),l=s(70579);class n extends a.Component{constructor(){super(...arguments),this.sendFormRequest=e=>{this.props.parentCallback(e.target.id)}}render(){return(0,l.jsx)("div",{className:"row",style:{border:"none"},children:(0,l.jsxs)("div",{class:"bd-example submit_form",children:["Transaction"===this.props.form_type?window.location.pathname.includes("pending")?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{type:"button",class:"btn btn-success",id:"approveBtn",onClick:this.props.approve,children:"Approve"}),(0,l.jsx)("button",{type:"button",class:"btn btn-info",id:"moreInfoBtn",onClick:this.props.moreInfoRejectModalShow,children:"More Info"}),(0,l.jsx)("button",{type:"button",class:"btn btn-danger",id:"rejectBtn",onClick:this.props.moreInfoRejectModalShow,children:"Reject"})]}):!1===this.props.disableButton?(0,l.jsxs)(l.Fragment,{children:[""===this.props.status||"DRAFT"===this.props.status?(0,l.jsx)("button",{type:"submit",class:"btn btn-primary",id:"draftBtn",onClick:this.props.onSubmit,disabled:this.props.disableButton,children:"Save in Draft"}):"",(0,l.jsx)("button",{type:"submit",class:"btn btn-success",id:"submitBtn",onClick:this.props.onSubmit,disabled:this.props.disableButton,children:"Submit"})]}):"":(0,l.jsx)("button",{type:"submit",class:"btn btn-success",id:"submitBtn",onClick:this.props.onSubmit,children:"Save & Close"}),(0,l.jsx)(i.N_,{className:"btn btn-secondary",to:window.location.pathname.includes("pending")?"".concat(this.props.list_page,"/pendingApproval"):this.props.list_page,style:{textDecoration:"none",color:"white"},children:"Back to List"})]})})}}},76309:(e,t,s)=>{s.d(t,{A:()=>a});const a=function(){if(window.innerWidth<="767"){const e=document.getElementById("side-nav-bar");e.classList.contains("sidebar-transform")&&e.classList.remove("sidebar-transform")}}},5425:(e,t,s)=>{s.d(t,{sE:()=>l,y:()=>n});const a="data-rr-ui-",i="rrUi";function l(e){return"".concat(a).concat(e)}function n(e){return"".concat(i).concat(e)}},14696:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(65043);function i(e){var t=(0,a.useRef)(null);return(0,a.useEffect)((function(){t.current=e})),t.current}},93818:(e,t,s)=>{s.d(t,{A:()=>i});var a=Function.prototype.bind.call(Function.prototype.call,[].slice);function i(e,t){return a(e.querySelectorAll(t))}}}]);
//# sourceMappingURL=833.f8019efd.chunk.js.map