"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[514],{7135:(e,t,s)=>{s.d(t,{A:()=>i});const i=function(e){const t=document.getElementById(e.target.name+"_helper");null!==t&&(""===e.target.value?t.classList.contains("helper_hide")&&t.classList.remove("helper_hide"):t.classList.add("helper_hide"),setTimeout((()=>{t.classList.add("helper_hide")}),"10000")),document.getElementById(e.target.id).style.border="1px solid grey",this.setState({[e.target.name]:"",[e.target.name]:e.target.value})}},99422:(e,t,s)=>{s.d(t,{A:()=>j});var i=s(65043),a=s(66978),l=s(10615),n=s(35475),r=s(16023),d=s(51505),o=s(51847),c=s(87024),h=s(44013),p=s(50326),m=s(96209),_=s(25663),u=s(86178),g=s.n(u),x=s(70579);class f extends i.Component{constructor(e){super(e),this.sendFormRequest=e=>{this.props.parentCallback(e.target.id)},this.showAuditTrailUserMaster=async e=>{console.log(this.props.slug_id),this.setState({open:!0}),await fetch(`/common-app/userMaster/userMasterAuditTrailAPI/?slug=${this.props.slug_id}&page_size=100000000`).then((e=>{if("Internal Server Error"===e.statusText){var t=window.location.origin;window.location.replace(t)}e.json().then((e=>{this.setState({auditTrail:e.results})}))}))},this.showAuditTrail=async e=>{console.log(this.props.slug_id),this.setState({open:!0}),await fetch(`/common-app/auditTrail/auditTrailViewAPI/?record_no=${this.props.recordNo}&table_name=${this.props.tableName}&page_size=100000000`).then((e=>{if(!e.ok){var t=window.location.origin;window.location.replace(t)}e.json().then((e=>{this.setState({auditTrail:e.results})}))}))},this.state={importDisplay:this.props.importDisplay,open:!1,auditTrail:[]}}render(){const e=[{dataField:this.props.list_page.includes("userMaster")?"user_name":"record_no",text:this.props.list_page.includes("userMaster")?"User Name":"Record No"},{dataField:"process_desc",text:"Process"},{dataField:"action_desc",text:"Action"},{dataField:"action_by",text:"Action By"},{dataField:"action_date",text:"Action Date",formatter:e=>g()(e).format("DD-MMM-YYYY HH:MM:SS A")},{dataField:"changes",text:"Changes"}];return(0,x.jsxs)("div",{className:"row form-name-row",style:{marginTop:"3px"},children:[(0,x.jsx)("div",{className:"col-lg-2 col-md-2 col-sm-2",style:{margin:"0px",paddingTop:"3px"},children:(0,x.jsx)("span",{style:{color:"brown",fontSize:"15px"},children:this.props.form_name})}),(0,x.jsx)("div",{className:"col-lg-7 col-md-7 col-sm-7",style:{margin:"0",display:"flex"},children:(0,x.jsx)(a.A,{placement:"bottom",overlay:(0,x.jsx)(l.A,{id:"tooltip-disabled",children:"Please use this option to import data from Excel File"}),children:(0,x.jsxs)("div",{className:"input-group input-group-sm",style:{display:!0===this.state.importDisplay?"flex":"none"},children:[(0,x.jsx)("input",{className:"form-control",style:{width:"50%"},type:"file",id:"formFile",onChange:this.props.fileSelection}),(0,x.jsx)("span",{className:"btn btn-danger",style:{textDecoration:"none",color:"white"},onClick:this.props.import_data,children:"Import"})]})})}),(0,x.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-3",style:{margin:"0px",paddingTop:"3px"},children:[(0,x.jsxs)(n.N_,{to:window.location.pathname.includes("pending")?`${this.props.list_page}/pendingApproval`:this.props.list_page,className:"back_to_list",style:{fontWeight:"500",color:"black",textDecoration:"none",cursor:"pointer",float:"right"},children:[(0,x.jsx)("svg",{style:{color:"brown",marginRight:"5px"},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-arrow-left-circle-fill",viewBox:"0 0 16 16",children:(0,x.jsx)("path",{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"})}),(0,x.jsx)("span",{style:{color:"black"},children:"Back to List"})]}),"Yes"===this.props.auditTrailView?(0,x.jsxs)("div",{className:"audit_trail",id:"audit_trail",style:{fontWeight:"500",color:"black",textDecoration:"none",cursor:"pointer",float:"right",paddingLeft:"10px",paddingRight:"10px"},onClick:this.showAuditTrail,children:[(0,x.jsxs)("svg",{height:"18px",version:"1.1",viewBox:"0 0 20 21",width:"20px",children:[(0,x.jsx)("title",{}),(0,x.jsx)("desc",{}),(0,x.jsx)("defs",{}),(0,x.jsx)("g",{fill:"none","fill-rule":"evenodd",id:"Page-1",stroke:"none","stroke-width":"1",children:(0,x.jsx)("g",{fill:"#004a5d",id:"Core",opacity:"0.9",transform:"translate(-464.000000, -254.000000)",children:(0,x.jsx)("g",{id:"history",transform:"translate(464.000000, 254.500000)",children:(0,x.jsx)("path",{d:"M10.5,0 C7,0 3.9,1.9 2.3,4.8 L0,2.5 L0,9 L6.5,9 L3.7,6.2 C5,3.7 7.5,2 10.5,2 C14.6,2 18,5.4 18,9.5 C18,13.6 14.6,17 10.5,17 C7.2,17 4.5,14.9 3.4,12 L1.3,12 C2.4,16 6.1,19 10.5,19 C15.8,19 20,14.7 20,9.5 C20,4.3 15.7,0 10.5,0 L10.5,0 Z M9,5 L9,10.1 L13.7,12.9 L14.5,11.6 L10.5,9.2 L10.5,5 L9,5 L9,5 Z",id:"Shape"})})})})]}),(0,x.jsx)("span",{style:{color:"black",paddingLeft:"3px"},children:"Audit Trail"})]}):""]}),(0,x.jsxs)(r.A,{centered:!1,open:this.state.open,onClose:()=>this.setState({open:!1}),onOpen:()=>this.setState({open:!0}),children:[(0,x.jsxs)(d.A,{children:["Audit Trail of ",this.props.recordNo]}),(0,x.jsx)(o.A,{children:(0,x.jsx)(c.A,{children:(0,x.jsx)(m.A,{keyField:"record_no",data:this.state.auditTrail,columns:e,striped:!0,hover:!0,condensed:!0,pagination:(0,_.Ay)(),noDataIndication:"No records found"})})}),(0,x.jsx)(h.A,{children:(0,x.jsx)(p.A,{onClick:()=>this.setState({open:!1}),children:"OK"})})]})]})}}const j=f},86985:(e,t,s)=>{s.d(t,{A:()=>i});const i=function(e){e.includes("Unexpected")||e.includes("Failed to fetch")?(this.setState({loading:this.state.loading=!1}),alert("Something went wrong!")):this.setState({loading:this.state.loading=!1})}},8900:(e,t,s)=>{s.d(t,{A:()=>n});var i=s(65043),a=s(70579);class l extends i.Component{render(){return(0,a.jsxs)("div",{id:"error_alert",className:"alert alert-warning alert-dismissible "+(this.props.err_msg_visible?"alert-shown":"alert-hidden"),role:"alert",style:{display:this.props.err_msg_visible?"block":"none"},children:[(0,a.jsx)("strong",{children:"Error :"})," ",this.props.error_message]})}}const n=l},13870:(e,t,s)=>{s.d(t,{A:()=>i});const i=function(e,t){this.setState({err_msg_visible:!1}),this.setState({err_msg_visible:!0,error_message:e,loading:!1}),setTimeout((()=>{this.setState({err_msg_visible:!1})}),"10000"),document.getElementById(t).style.border="1px solid red"}},18606:(e,t,s)=>{s.d(t,{A:()=>a});var i=s(86985);const a=async function(e,t){if(e.includes("=")||e.includes("%"))try{await fetch(e).then((async e=>e.json())).then((e=>{this.setState({details:e})}))}catch(s){let e=s.message;i.A.call(this,e)}else document.title=`${t} Create`,this.setState({loading:!1})}},21037:(e,t,s)=>{s.d(t,{A:()=>d});var i=s(65043),a=s(83910),l=s(97929),n=s(70579);class r extends i.Component{render(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"alert alert-success alert-dismissible "+(this.props.msg_visible?"alert-shown":"alert-hidden"),role:"alert",style:{display:this.props.msg_visible?"flex":"none"},children:(0,n.jsxs)("div",{style:{display:this.props.msg_visible?"flex":"none"},children:[(0,n.jsx)(a.g,{icon:{fas:l.X7I,faCircleCheck:l.QRE},className:"success_circle_check"}),(0,n.jsx)("strong",{children:this.props.msg})]})})})}}const d=r},76309:(e,t,s)=>{s.d(t,{A:()=>i});const i=function(){if(window.innerWidth<="767"){const e=document.getElementById("side-nav-bar");e.classList.contains("sidebar-transform")&&e.classList.remove("sidebar-transform")}}},80514:(e,t,s)=>{s.a(e,(async(e,i)=>{try{s.r(t),s.d(t,{default:()=>$});var a=s(65043),l=s(35475),n=s(73216),r=s(99422),d=s(76309),o=s(7135),c=s(42406),h=s(8900),p=s(21037),m=s(60397),_=s(31924),u=s(32620),g=s(47196),x=s(18148),f=s(16023),j=s(51505),b=s(51847),y=s(44013),v=s(50326),N=s(47355),A=s(18997),C=s(59501),w=s(52800),S=s(70579),k=e([w]);w=(k.then?(await k)():k)[0];const D="sampleTestResult",R=`/common-app/${D}`,q="Sample Test Result",T="Transaction",M={report_no:"",details:"",obj_id:"",received_date:"",confirmation_date:"",report_due_date:"",service_type:"",customer_ref_details:"",applicant_type:"",applicant_name:"",applicant_contact_no:"",applicant_email:"",applicant_address:"",attention:"",sample_registration:"",testParameterAdded:[],testResult:[],err_msg_visible:!1,error_message:"",loading:!0,redirect:!1,modalOpen:!1,fieldDisplay:!1,testResultFor:"",test_id:"",test_parameter:"",test_result:"",test_requirement:"",test_unit:"",test_rcd_:[],formAction:"",submitBtn:"No",status:"",redirectionPath:""};class L extends a.Component{constructor(e){super(e),this.drpHandleChange=e=>{this.setState({[e.target.name]:e.target.value}),document.getElementById(e.target.id).value=e.target.value},this.getDetails=async()=>{C.A.call(this,q)},this.handleSubmit=async e=>{e.preventDefault();var t=`${R}/CreateUpdateAPI/`;w.A.call(this,e,t)},this.fetchSampleDetails=async e=>{this.setState({loading:!0});const t=`${R}/fetchSampleRegister?document_no=${this.state.sample_registration}`;N.A.call(this,t)},this.addTestResultModal=async e=>{let t=e.target.getAttribute("test_id");t?this.setState({modalOpen:!0,testResultFor:this.state.testResultFor=e.target.id,test_id:this.state.test_id=t}):(t=e.target.parentElement.getAttribute("test_id"),this.setState({modalOpen:!0,testResultFor:this.state.testResultFor=e.target.parentElement.id,test_id:this.state.test_id=t})),this.state[`test_rcd_${t}`]?this.setState({[`test_rcd_${t}`]:this.state[`test_rcd_${t}`]}):this.setState({[`test_rcd_${t}`]:[]})},this.addTestResultRow=async e=>{A.A.call(this,e)},this.deleteTestResultRow=async e=>{var t=e.target.parentNode.parentNode;t.parentNode.removeChild(t)},this.state=M}componentDidMount(){this.getDetails()}render(){const{error_message:e,redirect:t}=this.state;return t?(0,S.jsx)(n.C5,{to:`${R}${this.state.redirectionPath}`}):(0,S.jsx)("div",{className:"wrapper",children:(0,S.jsx)("div",{className:"content-wrapper",onClick:d.A.bind(this),children:(0,S.jsxs)("form",{id:"app-form",onSubmit:this.handleSubmit,autoComplete:"off",children:[(0,S.jsx)(r.A,{form_name_list:q,form_name:q,auditTrailView:"Yes",recordNo:this.state.report_no,tableName:"sample_test_parameter_result",form_type:T,list_page:R}),(0,S.jsx)(c.A,{load:this.state.loading}),(0,S.jsx)(h.A,{error_message:e,err_msg_visible:this.state.err_msg_visible}),(0,S.jsx)(p.A,{msg_visible:this.state.success_message,msg:"Data saved successfully"}),(0,S.jsxs)("div",{className:"row",children:[(0,S.jsx)("p",{className:"title_label",children:"Sample Details"}),(0,S.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-3 did-floating-label-content",style:{display:"inline-flex"},children:[(0,S.jsx)("input",{className:"did-floating-input",type:"text",placeholder:" ",name:"sample_registration",id:"sample_registration",value:this.state.sample_registration,onChange:o.A.bind(this),onClick:o.A.bind(this),readOnly:!!this.state.obj_id}),(0,S.jsxs)("label",{className:"did-floating-label",children:["Sample Register No. # ",(0,S.jsx)("span",{className:"mandatory_field",children:"*"})]}),""===this.state.report_no?(0,S.jsx)(m._g9,{style:{fontSize:"30px",marginTop:"3px",marginLeft:"5px",color:"brown",cursor:"pointer"},onClick:this.fetchSampleDetails}):""]}),(0,S.jsxs)("div",{className:"col-lg-2 col-md-2 col-sm-2 did-floating-label-content",style:{display:this.state.fieldDisplay?"block":"none"},children:[(0,S.jsx)("input",{className:"did-floating-input",type:"text",placeholder:" ",name:"customer_ref_details",id:"customer_ref_details",required:!0,value:this.state.customer_ref_details,onChange:o.A.bind(this),onClick:o.A.bind(this)}),(0,S.jsxs)("label",{className:"did-floating-label",children:["Customer Ref Details ",(0,S.jsx)("span",{className:"mandatory_field",children:"*"})]}),(0,S.jsx)("div",{className:"form-helper helper_hide",id:"customer_ref_details_helper",children:"Required"})]}),(0,S.jsxs)("div",{className:"col-lg-2 col-md-2 col-sm-2 did-floating-date-content",style:{display:this.state.fieldDisplay?"block":"none"},children:[(0,S.jsx)(_.J3,{id:"received_date",className:"floating_date_input",name:"received_date",dateFormat:"DD-MMM-YYYY",value:this.state.received_date,readOnly:!0,maxDate:new Date,iconPosition:"left",placeholder:"DD-MMM-YYYY",onChange:this.handleChange,icon:"calendar alternate",clearable:!0,clearIcon:(0,S.jsx)(x.A,{name:"remove",colour:"red",className:"calender_icon"}),required:!0}),(0,S.jsxs)("label",{className:"did-floating-label floating_date_label",children:["Received Date ",(0,S.jsx)("span",{className:"mandatory_field",children:"*"})]}),(0,S.jsx)("div",{className:"form-helper helper_hide",id:"received_date_helper",children:"Required"})]}),(0,S.jsxs)("div",{className:"col-lg-2 col-md-2 col-sm-2 did-floating-date-content",style:{display:this.state.fieldDisplay?"block":"none"},children:[(0,S.jsx)(_.J3,{id:"confirmation_date",className:"floating_date_input",name:"confirmation_date",dateFormat:"DD-MMM-YYYY",value:this.state.confirmation_date,iconPosition:"left",placeholder:"DD-MMM-YYYY",onChange:this.handleChange,icon:"calendar alternate",clearable:!0,clearIcon:(0,S.jsx)(x.A,{name:"remove",colour:"red",className:"calender_icon"}),required:!0}),(0,S.jsxs)("label",{className:"did-floating-label floating_date_label",children:["Confirmation Date ",(0,S.jsx)("span",{className:"mandatory_field",children:"*"})]}),(0,S.jsx)("div",{className:"form-helper helper_hide",id:"confirmation_date_helper",children:"Required"})]}),(0,S.jsxs)("div",{className:"col-lg-2 col-md-2 col-sm-2 did-floating-label-content",style:{display:this.state.fieldDisplay?"block":"none"},children:[(0,S.jsx)("select",{className:"did-floating-select",name:"service_type",id:"service_type",value:this.state.service_type,onChange:this.drpHandleChange,onClick:this.drpHandleChange,onFocus:this.drpHandleChange,children:(0,S.jsx)("option",{value:"Regular",children:"Regular"})}),(0,S.jsx)("label",{className:"did-floating-label",children:"Service Type"})]}),(0,S.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-3 did-floating-label-content",style:{display:this.state.fieldDisplay?"block":"none"},children:[(0,S.jsx)("input",{className:"did-floating-input",type:"text",placeholder:" ",name:"report_no",id:"report_no",value:this.state.report_no,onChange:o.A.bind(this),onClick:o.A.bind(this),readOnly:!0,disabled:!0}),(0,S.jsx)("label",{className:"did-floating-label",children:"Report Number"})]}),(0,S.jsxs)("div",{className:"col-lg-8 col-md-8 col-sm-8 did-floating-label-content",style:{display:this.state.fieldDisplay?"block":"none"},children:[(0,S.jsx)("textarea",{className:"did-floating-input",type:"text",placeholder:" ",cols:"60",rows:"2",name:"sample_description",id:"sample_description",value:this.state.sample_description,onChange:o.A.bind(this),onClick:o.A.bind(this)}),(0,S.jsxs)("label",{className:"did-floating-label",children:["Sample Description ",(0,S.jsx)("span",{className:"mandatory_field",children:"*"})]}),(0,S.jsx)("div",{className:"form-helper helper_hide",id:"sample_descriptions_helper",children:"Required"})]}),(0,S.jsx)("p",{className:"title_label",style:{display:this.state.fieldDisplay?"block":"none"},children:"Applicant Details"}),(0,S.jsxs)("div",{className:"col-lg-2 col-md-2 col-sm-2 did-floating-label-content",style:{display:this.state.fieldDisplay?"block":"none"},children:[(0,S.jsxs)("select",{className:"did-floating-select",name:"applicant_type",id:"applicant_type",value:this.state.applicant_type,onChange:this.drpHandleChange,onClick:this.drpHandleChange,children:[(0,S.jsx)("option",{value:"",children:"---Select---"}),(0,S.jsx)("option",{value:"Vendor",children:"Vendor"}),(0,S.jsx)("option",{value:"Buyer",children:"Buyer"}),(0,S.jsx)("option",{value:"Agent",children:"Agent"})]}),(0,S.jsxs)("label",{className:"did-floating-label",children:["Applicant ",(0,S.jsx)("span",{className:"mandatory_field",children:"*"})]})]}),(0,S.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-3 did-floating-label-content",style:{display:this.state.fieldDisplay?"block":"none"},children:[(0,S.jsx)("input",{className:"did-floating-input",type:"text",placeholder:" ",name:"applicant_name",id:"applicant_name",required:!0,value:this.state.applicant_name,maxLength:100,onChange:o.A.bind(this),onClick:o.A.bind(this)}),(0,S.jsxs)("label",{className:"did-floating-label",children:["Applicant Name ",(0,S.jsx)("span",{className:"mandatory_field",children:"*"})]}),(0,S.jsx)("div",{className:"form-helper helper_hide",id:"applicant_name_helper",children:"Required"})]}),(0,S.jsxs)("div",{className:"col-lg-2 col-md-2 col-sm-2 did-floating-label-content",style:{display:this.state.fieldDisplay?"block":"none"},children:[(0,S.jsx)("input",{className:"did-floating-input",type:"text",placeholder:" ",name:"attention",id:"attention",required:!0,value:this.state.attention,maxLength:100,onChange:o.A.bind(this),onClick:o.A.bind(this)}),(0,S.jsxs)("label",{className:"did-floating-label",children:["Attention ",(0,S.jsx)("span",{className:"mandatory_field",children:"*"})]}),(0,S.jsx)("div",{className:"form-helper helper_hide",id:"attention_helper",children:"Required"})]}),(0,S.jsxs)("div",{className:"col-lg-2 col-md-2 col-sm-2 did-floating-label-content",style:{display:this.state.fieldDisplay?"block":"none"},children:[(0,S.jsx)("input",{className:"did-floating-input",type:"text",placeholder:" ",name:"applicant_contact_no",id:"applicant_contact_no",required:!0,value:this.state.applicant_contact_no,maxLength:20,onChange:o.A.bind(this),onClick:o.A.bind(this)}),(0,S.jsxs)("label",{className:"did-floating-label",children:["Applicant Contact No ",(0,S.jsx)("span",{className:"mandatory_field",children:"*"})]}),(0,S.jsx)("div",{className:"form-helper helper_hide",id:"applicant_contact_no_helper",children:"Required"})]}),(0,S.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-3 did-floating-label-content",style:{display:this.state.fieldDisplay?"block":"none"},children:[(0,S.jsx)("input",{className:"did-floating-input",type:"text",placeholder:" ",name:"applicant_email",id:"applicant_email",required:!0,value:this.state.applicant_email,maxLength:50,onChange:o.A.bind(this),onClick:o.A.bind(this)}),(0,S.jsxs)("label",{className:"did-floating-label",children:["Applicant Email ",(0,S.jsx)("span",{className:"mandatory_field",children:"*"})]}),(0,S.jsx)("div",{className:"form-helper helper_hide",id:"applicant_email_helper",children:"Required"})]}),(0,S.jsxs)("div",{className:"col-lg-8 col-md-8 col-sm-8 did-floating-label-content",style:{display:this.state.fieldDisplay?"block":"none"},children:[(0,S.jsx)("textarea",{className:"did-floating-input",type:"text",placeholder:" ",cols:"60",rows:"2",name:"applicant_address",id:"applicant_address",value:this.state.applicant_address,onChange:o.A.bind(this),onClick:o.A.bind(this)}),(0,S.jsxs)("label",{className:"did-floating-label",children:["Applicant Address ",(0,S.jsx)("span",{className:"mandatory_field",children:"*"})]}),(0,S.jsx)("div",{className:"form-helper helper_hide",id:"applicant_address_helper",children:"Required"})]}),(0,S.jsx)("p",{className:"title_label",style:{display:this.state.fieldDisplay?"block":"none"},children:"Test Details & Results"}),(0,S.jsx)("div",{className:"col-lg-12 col-md-12 col-sm-12",style:{display:this.state.fieldDisplay?"block":"none"},children:(0,S.jsx)("div",{className:"table-responsive",style:{height:"auto"},children:(0,S.jsxs)("table",{className:"table table-hover table-striped table-bordered border-primary",children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{}),(0,S.jsx)("th",{children:"Test Name"}),(0,S.jsx)("th",{children:"Test Method"}),(0,S.jsx)("th",{children:"Department"}),(0,S.jsx)("th",{children:"Cost"}),window.location.pathname.includes("confirmation")?(0,S.jsx)("th",{children:"Conclusion"}):(0,S.jsx)("th",{children:"Suggested Conclusion"}),(0,S.jsx)("th",{children:"Note"}),(0,S.jsx)("th",{children:"Result Lines"})]})}),(0,S.jsx)("tbody",{children:this.state.testParameterAdded.length>0?this.state.testParameterAdded.map((e=>(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{style:{textAlign:"center",color:"darkgreen",fontSize:"18px",cursor:"pointer"},id:e.test_name,test_id:e.id,children:(0,S.jsx)(u.rVy,{id:e.test_name,test_id:e.id,onClick:this.addTestResultModal,style:{cursor:"pointer"}})}),(0,S.jsx)("td",{children:e.test_name}),(0,S.jsx)("td",{children:e.test_method}),(0,S.jsx)("td",{children:e.department}),(0,S.jsx)("td",{children:(0,S.jsx)("div",{class:"form-floating",children:(0,S.jsx)("input",{class:"form-control",placeholder:" ",cols:"60",rows:"3",name:`cost_${e.id}`,id:`cost_${e.id}`,value:this.state[`cost_${e.id}`],onChange:o.A.bind(this),onClick:o.A.bind(this),style:{height:"auto"}})})}),(0,S.jsx)("td",{children:(0,S.jsxs)("select",{className:"did-floating-select did-floating-select-sm",name:`conclusion_${e.id}`,id:`conclusion_${e.id}`,value:this.state[`conclusion_${e.id}`],onChange:this.drpHandleChange,required:!0,style:{width:"200px"},children:[(0,S.jsx)("option",{value:"",children:"---Select---"}),(0,S.jsx)("option",{value:"M",children:"M-Meets Requirement"}),(0,S.jsx)("option",{value:"F",children:"F-Fails To Meet Requirement"}),(0,S.jsx)("option",{value:"R",children:"R-Refer Result"}),(0,S.jsx)("option",{value:"*",children:"*-Requirement Not Provided"}),(0,S.jsx)("option",{value:"NA",children:"N/A-Not Applicable"})]})}),(0,S.jsx)("td",{children:(0,S.jsx)("div",{class:"form-floating",children:(0,S.jsx)("textarea",{class:"form-control",placeholder:" ",cols:"60",rows:"3",name:`note_${e.id}`,id:`note_${e.id}`,value:this.state[`note_${e.id}`],onChange:o.A.bind(this),onClick:o.A.bind(this)})})}),(0,S.jsx)("td",{id:`test_result_td_${e.id}`})]}))):(0,S.jsx)("tr",{children:(0,S.jsx)("td",{colSpan:"16",className:"no_record",children:"No Records to Display"})})})]})})}),(0,S.jsx)("div",{className:"row",style:{border:"none"},children:(0,S.jsxs)("div",{class:"bd-example submit_form",children:[(window.location.pathname.includes("modify")||window.location.pathname.includes("CreateUpdate"))&&"Yes"!==this.state.submitBtn?(0,S.jsx)("button",{type:"submit",class:"btn btn-primary",id:"draftBtn",onClick:e=>this.setState({formAction:"draftBtn"}),children:"Draft"}):"",window.location.pathname.includes("modify")||window.location.pathname.includes("CreateUpdate")?"Approve"===this.state.status?"":(0,S.jsx)("button",{type:"submit",class:"btn btn-success",id:"submitBtn",onClick:e=>this.setState({formAction:"submitBtn"}),children:"Submit"}):"",window.location.pathname.includes("verification")?(0,S.jsx)("button",{type:"submit",class:"btn btn-success",id:"verificationBtn",onClick:e=>this.setState({formAction:"verified"}),children:"Approve"}):"",window.location.pathname.includes("confirmation")?(0,S.jsx)("button",{type:"submit",class:"btn btn-success",id:"confirmationBtn",onClick:e=>this.setState({formAction:"confirmation"}),children:"Approve"}):"",(0,S.jsx)(l.N_,{className:"btn btn-secondary",to:window.location.pathname.includes("pending")?`${R}/pendingApproval`:R,style:{textDecoration:"none",color:"white"},children:"Back to List"})]})})]}),(0,S.jsxs)(f.A,{closeOnDimmerClick:!1,size:"large",open:this.state.modalOpen,onClose:()=>this.setState({modalOpen:!1}),children:[(0,S.jsxs)(j.A,{children:["Test Result for ",this.state.testResultFor]}),(0,S.jsxs)(b.A,{children:[(0,S.jsx)("form",{id:"app-form",onSubmit:this.add,autoComplete:"off",children:(0,S.jsxs)("div",{className:"row",children:[(0,S.jsxs)("div",{className:"col-lg-2 col-md-2 col-sm-2 did-floating-label-content",style:{display:this.state.fieldDisplay?"block":"none"},children:[(0,S.jsx)("input",{className:"did-floating-input",type:"text",placeholder:" ",name:"test_parameter",id:"test_parameter",required:!0,value:this.state.test_parameter,maxLength:50,onChange:o.A.bind(this),onClick:o.A.bind(this)}),(0,S.jsxs)("label",{className:"did-floating-label",children:["Parameter ",(0,S.jsx)("span",{className:"mandatory_field",children:"*"})]}),(0,S.jsx)("div",{className:"form-helper helper_hide",id:"test_parameter_helper",children:"Required"})]}),(0,S.jsxs)("div",{className:"col-lg-2 col-md-2 col-sm-2 did-floating-label-content",style:{display:this.state.fieldDisplay?"block":"none"},children:[(0,S.jsx)("input",{className:"did-floating-input",type:"text",placeholder:" ",name:"test_result",id:"test_result",required:!0,value:this.state.test_result,maxLength:50,onChange:o.A.bind(this),onClick:o.A.bind(this)}),(0,S.jsxs)("label",{className:"did-floating-label",children:["Result ",(0,S.jsx)("span",{className:"mandatory_field",children:"*"})]}),(0,S.jsx)("div",{className:"form-helper helper_hide",id:"test_result_helper",children:"Required"})]}),(0,S.jsxs)("div",{className:"col-lg-2 col-md-2 col-sm-2 col-sm-1 did-floating-label-content",style:{display:this.state.fieldDisplay?"block":"none"},children:[(0,S.jsx)("input",{className:"did-floating-input",type:"text",placeholder:" ",name:"test_requirement",id:"test_requirement",required:!0,value:this.state.test_requirement,maxLength:50,onChange:o.A.bind(this),onClick:o.A.bind(this)}),(0,S.jsxs)("label",{className:"did-floating-label",children:["Requirement ",(0,S.jsx)("span",{className:"mandatory_field",children:"*"})]}),(0,S.jsx)("div",{className:"form-helper helper_hide",id:"test_requirement_helper",children:"Required"})]}),(0,S.jsxs)("div",{className:"col-lg-2 col-md-2 col-sm-2 col-sm-1 did-floating-label-content",style:{display:this.state.fieldDisplay?"block":"none"},children:[(0,S.jsx)("input",{className:"did-floating-input",type:"text",placeholder:" ",name:"test_unit",id:"test_unit",required:!0,value:this.state.test_unit,maxLength:50,onChange:o.A.bind(this),onClick:o.A.bind(this)}),(0,S.jsx)("label",{className:"did-floating-label",children:"Unit"}),(0,S.jsx)("div",{className:"form-helper helper_hide",id:"test_unit_helper",children:"Required"})]}),(0,S.jsx)("div",{className:"col-lg-1 col-md-1 col-sm-1 col-sm-1 did-floating-label-content",style:{display:this.state.fieldDisplay?"block":"none"},children:(0,S.jsx)("button",{type:"button",class:"btn btn-success",onClick:this.addTestResultRow,children:"Add"})})]})}),(0,S.jsx)("div",{className:"table-responsive",style:{height:"auto"},children:(0,S.jsxs)("table",{className:"table table-hover table-striped table-bordered border-primary",children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{}),(0,S.jsx)("th",{children:"Parameter"}),(0,S.jsx)("th",{children:"Result"}),(0,S.jsx)("th",{children:"Requirement"}),(0,S.jsx)("th",{children:"Unit"})]})}),(0,S.jsx)("tbody",{children:this.state[`test_rcd_${this.state.test_id}`].length>0?this.state[`test_rcd_${this.state.test_id}`].map((e=>(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{style:{textAlign:"center",color:"darkgreen",fontSize:"18px",cursor:"pointer"},id:e.test_parameter,children:(0,S.jsx)(g.Ku6,{id:e.test_parameter,style:{cursor:"pointer"},onClick:this.deleteTestResultRow})}),(0,S.jsx)("td",{children:e.test_parameter}),(0,S.jsx)("td",{children:e.test_result}),(0,S.jsx)("td",{children:e.test_requirement}),(0,S.jsx)("td",{children:e.test_unit})]}))):(0,S.jsx)("tr",{children:(0,S.jsx)("td",{colSpan:"16",className:"no_record",children:"No Records to Display"})})})]})})]}),(0,S.jsx)(y.A,{children:(0,S.jsx)(v.A,{size:"mini",onClick:()=>this.setState({modalOpen:!1}),children:"Close"})})]})]})})})}}const $=L;i()}catch(D){i(D)}}))},18997:(e,t,s)=>{s.d(t,{A:()=>i});const i=async function(e){e.preventDefault();const t=this.state[`test_rcd_${this.state.test_id}`];let s={test_parameter_id:this.state.test_id,test_parameter:this.state.test_parameter,test_result:this.state.test_result,test_requirement:this.state.test_requirement,test_unit:this.state.test_unit};t.push(s),this.setState({[`test_rcd_${this.state.test_id}`]:t,test_parameter:"",test_result:"",test_requirement:"",test_unit:""}),document.getElementById(`test_result_td_${this.state.test_id}`).innerHTML="Done"}},47355:(e,t,s)=>{s.d(t,{A:()=>n});var i=s(86178),a=s.n(i),l=s(13870);const n=async function(e){this.setState({testParameterAdded:[]});const t=await fetch(e);if(!t.ok)return alert("Please enter correct Sample Register Number!");{const e=await t.json();if(!(e.count>0)){this.setState((e=>({loading:!1})));let e="Unable to search the values to due to maker checker validation or transaction is not submitted!";return l.A.call(this,e,"inward_no")}for(const[t,s]of Object.entries(e.results[0]))if(t.includes("date")){let e=a()(s).format("DD-MMM-YYYY");this.setState({[t]:e})}else"test_parameters"===t?this.setState((e=>({testParameterAdded:s}))):"document_no"===t?this.setState({sample_registration:s}):this.setState({[t]:s});this.setState((e=>({fieldDisplay:!0,loading:!1})))}}},59501:(e,t,s)=>{s.d(t,{A:()=>n});var i=s(86178),a=s.n(i),l=s(18606);const n=async function(e){if(""===this.props.navOrgName&&!1===this.props.adminAccess)return alert("Please change organisation to view details");this.setState({loading:!0});const t=window.location.pathname;if(await l.A.call(this,t,e),""!==this.state.details){for(const[s,i]of Object.entries(this.state.details))if("id"===s)this.setState({obj_id:i});else if("sample_registration"===s){const e=await fetch(`/common-app/sampleRegistration/ListAPI/?document_no=${i}`);if(e.ok){const t=await e.json();for(const[e,s]of Object.entries(t.results[0]))if(e.includes("date")){let t=a()(s).format("DD-MMM-YYYY");this.setState({[e]:t})}else this.setState({[e]:s});this.setState({[s]:i})}}else this.setState({[s]:i});const e=await fetch(`/common-app/sampleTestResult/detailsListAPI/?sample_test_result__report_no=${this.state.report_no}`);if(e.ok){const t=(await e.json()).results;let s=[];t.map((e=>{let t={id:e.test_parameters.id,test_name:e.test_parameters.test_name,test_method:e.test_parameters.test_method,department:e.test_parameters.department,note:e.test_note};s.push(t),this.setState({[`conclusion_${e.test_parameters.id}`]:e.conclusion,[`note_${e.test_parameters.id}`]:e.test_note,[`cost_${e.test_parameters.id}`]:e.cost})})),this.setState({testParameterAdded:s,fieldDisplay:!0,loading:!1,submitBtn:"Yes"})}const t=await fetch(`/common-app/sampleTestResult/testParameterListAPI/?sample_test_result__report_no=${this.state.report_no}`);if(t.ok){const e=(await t.json()).results;console.log(e);const s=e.reduce(((e,t)=>(e[t.test_parameters.id]||(e[t.test_parameters.id]=[]),e[t.test_parameters.id].push(t),e)),{});let i="";for(const[t,a]of Object.entries(s)){let e=[];a.map((t=>{i=t.test_parameters.id;let s={test_parameter_id:t.test_parameters.id,test_parameter:t.parameter,test_result:t.result,test_requirement:t.requirement,test_unit:t.test_unit};e.push(s)})),this.setState({[`test_rcd_${i}`]:e});document.getElementById(`test_result_td_${i}`).innerHTML="Done"}}}}},52800:(e,t,s)=>{s.a(e,(async(e,i)=>{try{s.d(t,{A:()=>c});var a=s(8858),l=s(86985),n=s(13870),r=e([a]);async function o(e,t){this.setState({loading:!0});const s={method:"POST",headers:(0,a.A)(),body:JSON.stringify(this.state)};try{const e=await fetch(t,s);if(!e.ok){let e="Something went wrong!";return n.A.call(this,e,"")}{const t=await e.json();"Saved Draft"==t.status?(this.setState({success_message:!0,err_msg_visible:!1,report_no:t.report_no,obj_id:t.obj_id,submitBtn:"Yes",loading:!1}),setTimeout((()=>{this.setState({success_message:!1})}),"10000")):"Verified"===t.status?this.setState({redirectionPath:"/listPageVerification/",redirect:!0}):"Confirmation"===t.status?this.setState({redirectionPath:"/listPageConfirmation/",redirect:!0}):this.setState({redirect:!0})}}catch(i){let e=i.message;l.A.call(this,e)}}a=(r.then?(await r)():r)[0];const c=o;i()}catch(d){i(d)}}))}}]);
//# sourceMappingURL=514.0b495bb1.chunk.js.map